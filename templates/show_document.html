{% extends "layouts/base.html" %}

{% block content %}
  {{ super() }}

  <div class=" content-center flex mb-4 mt-4">
    <div class="content__body rounded bg-white shadow-lg w-full overflow-hidden">
      <div class="shadow-md bg-grey-lighter px-5 py-1">        
        <h1 class="" >{{ TITLE }}</h1>
        <strong>Store:</strong> {{ store }} <br>
      </div>
      <div class="text-justify" >        
        <div class=" border-black px-5 py-2 shadow-inner">
          <h3>Fields</h3>
          <div class="py-1 px-4 flex flex-wrap content-center align-middle flex-col">
            {% for key, value in fields %}
              <!-- Field of the document -->
              {% include  "chunks/show_document_field.html" %}
            {% endfor %}                      
          </div>
        </div>
        <div class="">
          <h3 class="body__title px-5 py-1">Body</h3>
          <div id="content" class="container px-5 py-1"><pre>{{ body | safe }}</pre></div>

          {% if subdocuments %}
            <div class="px-5 py-2">
              <h3>Subdocuments</h3>
              {% for submodel, docs in subdocuments %}
                <h4 class="">                  
                  <a class="link__main text-black font-bold py-1 px-1 hover:text-blue" href="/{{model}}/{{id}}/{{submodel}}">
                    {{ submodel | capitalize }} 
                  </a>                                
                </h4>                
                <ul class="list__main">
                
                  {% for entry in docs %}
                    <li>
                      
                      {% set url = "/" ~ submodel ~ "/" ~ entry.uuid %}
                      {% if entry.name %}
                        <!-- Subdocument has name -->
                        {% include  "chunks/show_document_sub_doc_1.html" %}
                      {% else %}
                        <!-- Subdocument doesn't have a name -->
                        {% include  "chunks/show_document_sub_doc_2.html" %}

                      {% endif %}
                    </li>
                  {% endfor %}
                </ul>
              {% endfor %}              
            </div>
          {% endif %}          
        </div>
        <div class="text-center px-5 py-1">
          <a class="inline-block text-black link__main font-bold bg-blue rounded-full py-2 px-4 hover:bg-blue-dark hover:text-white" href="/?witness={{ id }}">Witness</a>
          <a class="inline-block text-black link__main font-bold bg-yellow rounded-full py-2 px-4 hover:bg-yellow-dark hover:text-white" href="/{{model}}/{{id}}/edit">Edit</a>
        </div>                
      </div>
    </div>
  </div>

{% endblock content %}
